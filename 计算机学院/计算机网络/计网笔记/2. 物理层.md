# 物理层

## 物理层的基本概念

物理层考虑的是怎样才能在连接计算机的各种传输媒体上**传输数据比特流**，而不是指具体的传输媒体。

物理层的作用是要尽可能地屏蔽掉不同**传输媒体**和**通信手段**的差异 ，使数据链路层感觉不到这些差异。

用于物理层的协议也常称为**物理层规程**（procedure）

### 主要任务

确定与传输媒体接口的一些特性

- 机械特性：指明接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置等。

- 电气特性：指明在接口电缆的各条线上出现的电压的范围。

- 功能特性：指明某条线上出现的某一电平的电压表示何种意义。

- 过程特性：指明对于不同功能的各种可能事件的出现顺序。

## 数据通信的基础知识

### 数据通信系统的模型

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406081727830.png" alt="image-20210406081727830" style="zoom:40%;" />

#### 组成

- **源系统**

    - 源点（信源）：源点设备产生要传输的数据，例如计算机键盘输入汉字通过计算机产生输出的**数字比特流**。
    - 发送器：数字比特流要经过发送器编码后才能在传输系统中传输。例如：**调制器**

- **传输系统**

    传输系统可以是传输线，也可以是复杂的网络系统。

- **目的系统**

    - 终点（信宿）：终点设备将数字比特流转换成信息输出，例如把汉字显示在屏幕上。
    - 接收器：接收器把来自传输线路上的模拟信号进行解调，还原出数字比特流。例如：**解调器**

#### 术语

- 数据 (data)：运送消息（话音、文字、图像等）的实体。
- 信号 (signal)：数据的电气的或电磁的表现 。 数据 在信道中以电信号的形式传送，电信号分为：模拟信号和数字信号。
    - 模拟信号 (analogous)：代表消息的参数的取值是连续的
    - 数字信号 (digital signal)：代表消息的参数的取值是离散的。
    - 码元 (code)：在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形。
- 使用二进制编码时，只有两种不同的码元（代表 0 和 1）
- 调制：把数字信号转换为模拟信号的过程 。
- 解调：把模拟信号转换为数字信号的过程。

#### 模拟信号与数字信号

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406082341720.png" alt="image-20210406082341720" style="zoom:40%;" />

- 模拟数据、模拟信号

    最早的电话系统

- 模拟数据、数字信号

    模拟数据数字化后，可以使用先进的数字传输和交换设备，如现代的电话系统。

- 数字数据、模拟信号

    有些传输媒体只适合传输模拟信号，如光纤和无线信道。

- 数字数据、数字信号

    数字数据编码成数字信号的设备，比起数字到模拟设备更简单、更廉价。

#### 信道

- 信道 ( channel )：一般用来表示向某一个方向传送信息的媒体。一条通信电路往往包含发送信道和接收信道。
- 信道类型
    - 单向通信（单工通信）：只能有一个方向的通信而没有反方向的交互。例：无线电广播
    - 双向交替通信（半双工通信）：通信的双方都可以发送信息，但不能双方同时发送，当然也就不能同时接收 。
    - 双向同时通信（全双工通信）：通信的双方可以同时发送和接收信息。

- 在计算机提供的二进制数字信号与电话网提供的模拟信号之间进行转换，这类技术统称为**调制解调技术**。

- 基带信号 （即基本频带信号）：来自信源的信号，就是将数字信号 1 或 0 直接用两种不同的电压来表示，然后送到线路上去传输基带信号
    - 计算机输出的信号通常为基带信号
    - 基带信号往往包含有较多的**低频**成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进调行**调制**（modulation）
- 调制类型
    - **基带调制**：仅对基带信号的波形进行变换，使它能够与信道特性相适应。变换后的信号仍然是基带信号。把这种过程称为编码(coding）
    - **带通调制**：使用载波 (carrier) 进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，这样就能够更好地在模拟信道中传输（即仅在一段频率范围内能够通过信道） 。
    - 带通信号：经过载波调制后的信号。

### 数字信号编码

基带调制技术（从数字到数字信号）

#### 常用编码方式

- **不归零码**：正电平代表 1，负电平代表 0 。
    - 在一个码元的全部时间内，电压保持恒定
    - 频率低
    - 连续发送多个“ 1” 码或“ 0” 码时，码元之间没有间隙，不容易区分

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406083520317.png" alt="image-20210406083520317" style="zoom:90%;" />

- **归零码**：正脉冲代表 1，负脉冲代表 0，有跳变
    - 在一个码元的全部时间内，非零电压的持续时间小于一个码元的时间
    - 在一个码元的后半部分时间内，电压总是归于零的
    - 好处：解决了不归零码在连续发送“ 1” 码或“ 0” 码不容易区分的问题
    - 缺点：跳变次数过多，携带的数据量相对较少

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406083714627.png" alt="image-20210406083714627" style="zoom:40%;" />

- **曼彻斯特编码**
    - 位周期中心的向上跳变代表 0 ，位周期中心的向下跳变代表 1 
    - 也可反过来定义。
- **差分曼彻斯特编码**
    - 在每一位的中心处始终都有跳变。
    - 利用每个码元的开始时有无跳变来表示“ 0” 或“ 1” 。
    - 位开始边界有跳变代表 0 ，没有跳变代表 1

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406083912068.png" alt="image-20210406083912068" style="zoom:40%;" />

#### 编码方式比较

从信号波形中可以看出，曼彻斯特编码和差分曼彻斯特编码产生的信号频率比不归零制高。

从自同步能力来看，不归零制不能从信号波形本身中提取信号时钟频率，这叫作没有自同步能力， 而曼彻斯特编码和差分曼彻斯特编码 具有自同步能力 。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406084105639.png" alt="image-20210406084105639" style="zoom:40%;" />

### 数字调制技术

**带通调制方法**（数字信号到模拟信号）

#### 二元制调制方法

选取一个适合于在线路上传输的正弦波作为载波，让载波的某些特性（ 幅度、频率、相位随基带信号的变化而变化（即波形变换）。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406085800066.png" alt="image-20210406085800066" style="zoom:40%;" />

最基本的二元制调制方法有以下几种：

##### **1. 调幅** (AM)

载波的 **振幅** 随基带数字信号而变化。

- 实现起来简单 , 但抗干扰性能差
- 极端情况：0 不波动，1 波动

##### **2. 调频** (FM)

载波的 **频率** 随基带数字信号而变化。

- 抗干扰性能好 , 但占用带宽较大

##### **3. 调相** (PM)

载波的 **初始相位** 随基带数字信号而变化。

- 抗干扰性能最好，且相位的变化也可以同步发送器和接收器的时钟
- 绝对 PM 与相对 PM
    - 用载波的相位绝对值或变化来表示数据。
    - **绝对调相**： 0 对应相位 “0”，1 对应相位 “180” 。
    - **相对调相**：发送的信号与前一个信号同相（相位不发生变化），则表示 “0”；发送的信号与前一个信号反相（相位发生变化），则表示 “1” 。（0 则一致，1 则反相）
    - 注意：检测相位变化比检测相位值要容易。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406090628078.png" alt="image-20210406090628078" style="zoom:50%;" />

#### 多元制混合调制方法

上面几种调制方式，一个码元仅包含 2 个状态（两种振幅、频率、相位），即 1 个码元携带 1bit 信息

多元制混合调制方法可以获得更高的信息传输速率，让 1 个码元携带多位比特信息

##### **正交振幅调制**（QAM）

(Quadrature Amplitude Modulation）

例如：

- 可供选择的相位有 12 种，而对于每一种相位有 1 或 2 种振幅可供选择。总共有 16 种组合，即 16 个码元。
- 由于 4bit 编码共有 16 种不同的组合，因此这 16 个点中的每个点可对应于一种 4 bit 的编码。数据传输率可提高 4 倍
- 注意：不是码元越多越好。若每一个码元可表示的比特数越多，则在接收端进行解调时要正确识别每一种状态就越困难，出错率增加

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406092648130.png" alt="image-20210406092648130" style="zoom:40%;" />

##### **脉冲编码调制**（PCM）

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406093759655.png" alt="image-20210406093759655" style="zoom: 40%;" />

(Pulse Code Modulation)

- 话音、图像等模拟信号在时间上和取值上都是连续的，对其进行数字信号编码 ，是将其转换成一系列在时间和取值上都是离散的 二进制数码脉冲。最常用的编码方法就是 PCM 
- 现在的数字传输系统均采用脉码调制 PCM 体制 。
- PCM 包括三个主要步骤（将模拟信号转换为数字信号的过程）：**采样 -> 量化 -> 编码**

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409101108721.png" alt="image-20210409101108721" style="zoom: 33%;" />

###### **采样**

- 实现时间上的离散化

- 每隔一定时间间隔 , 取模拟信号的当前值作为样本，该样本代表了模拟信号在某一时刻的瞬时值 

    <img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406092623480.png" alt="image-20210406092623480" style="zoom: 33%;" />

- 采样频率需远高于信号频率

    <img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406092830172.png" alt="image-20210406092830172" style="zoom:33%;" />

    <img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406092840719.png" alt="image-20210406092840719" style="zoom:33%;" />

- 采样的依据：奈奎斯特 (Nyquist) 采样定理

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210406093211498.png" alt="image-20210406093211498" style="zoom:30%;" />

###### 量化

是使采样值在取值上离散化

抽样信号虽然是时间轴上离散的信号，但仍然是模拟信号，其取值是连续值, 必须量化为离散值。

具体做法是：将原始信号的取值范围划分为若干个等级，将每个采样值“取整”到离它最近的一个等级上

量化后的抽样信号与量化前的抽样信号相比较，当然有所失真，表现为噪声

离散值的个数（等级划分）决定了量化的精度。

我国电话信号的 PCM 体制中，量化等级为 256，即 8 位。

###### 编码

将量化后的采样值用一定位数的二进制数码来表示

编码的位数和量化的级数有关，若量化级数为 N ，则每个采样值就可以编码成 Log 2 N 为的二进制码。

我国的 PCM 体制的编码位数为 8 ，即每个脉冲信号编码为 8bit 信息，由于每秒 8000 个脉冲，话音的标准编码速率为 64Kb/s 。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409100923046.png" alt="image-20210409100923046" style="zoom: 45%;" />

### 通信的极限容量

任何实际的信道都不是理想的，在传输信号时会产生各种失真以及带来多种干扰。

码元传输速率越高，或信号传输距离越远，或噪声干扰越大，或传输媒体质量越差在信道的输出端的波形的失真就越严重。

限制码元在信道上的传输速率的因素有以下两个

- 信道能够通过的频率范围
- 信噪比

#### 信道能够通过的频率范围

具体的信道所能通过的频率范围（信道的带宽 Hz ）总是有限的。信号中的许多高频分量往往不能通过信道

- 理想低通信道 ：信号的所有低频分量，只要频率不超过某个上限，都能够不失真地通过信道。
- 理想带通信道 ：信号的频率在某个范围之间的频率分量能够不失真地通过信道，其它分量不能通过。

##### 奈氏（Nyquist）准则

奈奎斯特给出了在假定的理想条件下，为了避免**码间串扰**，码元的传输速率的上限值。

**理想低通信道的最高码元传输速率 = 2W Baud**

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409101952122.png" alt="image-20210409101952122" style="zoom: 33%;" />

- W 是理想低通信道的带宽，单位为赫 (Hz)
- 公式含义：每赫带宽的理想低通信道的最高码元传输速率是每秒 2W 个码元
- Baud 是**波特**，是码元传输速率的单位，1 波特为每秒传送 1 个码元 （即，码元 / 秒）



**理想带通特性信道的最高码元传输速率 = W Baud**（基本不考）

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409102404633.png" alt="image-20210409102404633" style="zoom:33%;" />

##### 结论

在任何信道中，码元传输的速率是有上限的， 否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能

如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。

##### 比特率与波特率（重要）

比特率 S：数据传输速率，单位 “比特 / 秒”

波特率 B：码元传输速率，单位 “码元 / 秒”

若码元的状态数为 2 时，比特率 = 波特率（即每秒钟传输的二进制位数等于每秒钟传输码元数）

若码元的状态数为 4 时，四种状态分别表示为 “00” ”01” “10” ”11” 。则一个码元可以携带两位二进制数，此时比特率 = 2 * 波特率。

若 1 个码元携带 n bit 的信息量， M Baud 的码元传输速率所对应的信息传输速率为 M × n b/s

**公式**
$$
S=B*log_2M
$$


#### 信噪比

噪声存在于所有的电子设备和通信信道中。

噪声是随机产生的，它的瞬时值有时会很大。因此噪声会使接收端对码元的判决产生错误 。

但噪声的影响是相对的 。 如果信号相对较强，那么噪声的影响就相对较小。

##### 信噪比公式

信噪比就是**信号的平均功率和噪声的平均功率之比** 。常记为 S / N ，并用 **分贝 (dB)** 作为度量单位。即：
$$
信噪比 \ (dB) = 10 \log_{10}(S/N) \ (dB)
$$
例如，当 S / N = 10 时，信噪比为 10dB ，而当 S / N = 1000 时，信噪比为 30dB 。

##### 香农公式

信道的极限信息**传输速率 C** 可表达为
$$
C=W\log_2(1+S/N) \ (bits/s)
$$
其中

- W 为信道的带宽 ，以 Hz 为单位
- S 为信道内所传信号的平均功率；
- N 为信道内部的高斯噪声功率。

- S/N 不带单位！

##### 结论 

信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。

只要信息传输速率低于信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输。

若信道带宽 W 或信噪比 S/N 没有上限（当然实际信道不可能是这样的），则信道的极限信息传输速率 C 也就没有上限。

实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。

对于频带宽度已确定的信道，如果信噪比不能再提高了，并且码元传输速率也达到了上限值，那么还有办法提高信息的传输速率。这就是： 用编码的方法让每一个码元携带更多比特的信息量。

## 物理层下面的传输媒体

传输媒体也称为传输介质或传输媒介， 它就是数据传输系统中在发送器和接收器之间的物理通路 。

传输媒体可分为两大类

- 导引型传输媒体：电磁波被导引沿着固体媒体（铜线或光纤）传播 。
- 非导引型传输媒体：自由空间中传播，电磁波的传输常称为无线传输。

频谱

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409104306071.png" alt="image-20210409104306071" style="zoom: 33%;" />

### 导引型传输媒体

#### 双绞线

古老但最常用的传输媒体 。

电话系统使用的就是双绞线。

绞合可减少对相邻双绞线的电磁干扰。

模拟传输和数字传输都可以使用双绞线，其通信距离一般为几到十几公里。

带宽依赖于线的粗细和传输距离

##### 分类

- 屏蔽双绞线 STP (Shielded Twisted Pair)：带金属屏蔽层
- 无屏蔽双绞线 UTP (Unshielded Twisted Pair)

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409105739084.png" alt="image-20210409105739084" style="zoom: 33%;" />

##### 标准 EIA/TIA 568 A 。

此标准规定了 5 个种类的 UTP 标准 （从 1 类线到 5 类线）。

对传送数据来说，现在最常用的 UTP 是 5 类线（Category 5 或 CAT5）

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409110108199.png" alt="image-20210409110108199" style="zoom: 33%;" />

#### 同轴电缆

同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据 。

同轴电缆的带宽取决于电缆的质量

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409110150416.png" alt="image-20210409110150416" style="zoom:33%;" />

##### 分类

- 基带同轴电缆

    局域网发展初期常用

- 宽带同轴电缆

    有线电视常用

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409110335133.png" alt="image-20210409110335133" style="zoom: 33%;" />

#### 光缆

光纤是光纤通信的传输媒体。

光纤 由非常透明的石英玻璃拉成细丝，主要由纤芯和薄层构成双层通信圆柱体，纤芯很细直径只有 8 至 100um ，纤芯和包层具有不同的折射系数。

由于可见光的频率非常高，约为 10 8 MHz 的量级，因此一个光纤通信系统的传输带宽远远大于目前其他各种传输媒体的带宽

##### 工作原理

光线在纤芯中传输的方式是不断地全反射

只要从纤芯中射到纤芯表面的光线的入射角大于某个临界角度，就可产生全反射 。

##### 分类

- 多模光纤

    可以存在多条不同角度入射的光线在一条光纤中传输。这种光纤就称为多模光纤

    传输中光脉冲会逐渐展宽，造成失真，适合短距离传输

- 单模光纤

    若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。这样的光纤称为单模光纤

    使用昂贵的半导体激光源，光脉冲的衰耗小，适合长距离传输

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409110749407.png" alt="image-20210409110749407" style="zoom:33%;" />

##### 优点

1. 通信容量非常大 。

2. 传输损耗小，中继距离长。

3. 抗雷电和电磁干扰性能好。

4. 无串音干扰，保密性好。

5. 体积小，重量轻。

##### 光纤通信中使用的光波的波段

常用的三个波段的中心分别位于 850 nm （多模）1300 nm（多模和单模）和 1550 nm（单模）。

所有这三个波段都具有 25000~30000 GHz 的带宽， 可见光纤的通信容量非常大 。

### 非引导型传输媒体

将自由空间称为“非导引型传输媒体”。

无线传输所使用的频段很广。

##### 分类

- 短波通信 （即高频通信） 主要是靠电离层的反射，但短波信道的通信质量较差，传输速率低。
- 微波通信 由于地球表面的弯曲，信号的直线传输有限，需要建微波中继站。
    - 地面微波接力通信
    - 卫星通信

##### 无线局域网使用的 ISM 频段

要使用某一段无线电频谱进行通信，通常必须得到本国政府有关无线电频谱管理机构的许可证。但是，也有一些无线电频段是可自由使用的，正好满足计算机 无线局域网 的需求。例如： ISM（工业、科学、医学）频段。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409112820331.png" alt="image-20210409112820331" style="zoom:33%;" />

## 信道复用技术

复用 (multiplexing) 是将多路信号组合在一条物理信道上进行传输，在接收端再将各路信号分离开来，提高通信线路的利用率。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409113003491.png" alt="image-20210409113003491" style="zoom:33%;" />

### 频分复用 FDM

(Frequency Division Multiplexing)

将整个带宽分为多份，用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。

频分复用的所有用户在**同样的时间占用不同的带宽资源** （请注意，这里的“带宽”是频率带宽而不是数据的发送速率）

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409113115483.png" alt="image-20210409113115483" style="zoom: 33%;" />

#### 例：ADSL 技术

（非对称数字用户线路）

利用现有电话线 实际带宽 1.1 MHz) 实现宽带网络连接

非对称（Asymmetric）的含义：下行速率大于上行

### 时分复用 TDM

(Time Division Multiplexing)

时分复用的所有用户是**在不同的时间**占用**同样的**频带宽度。

用户轮流使用

#### 同步 TDM

（普通 TDM）

是将时间划分为一段段**等长的时分复用帧**（TDM 帧），每个用户占用的时隙周期性出现。 

即：信号源与时隙序号固定，即**同步** 。

- 时间片的分配事先约定，且固定不变。
- 优点：控制简单，接收设备根据预约的时间片分配方案，将收到的数据分发到不同的输出线路上。
- 缺点：当某个信号源没有数据时，仍然占用时间片，不能充分利用信道。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210409113719891.png" alt="image-20210409113719891" style="zoom:33%;" />

##### 造成线路资源的浪费

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210413080513341.png" alt="image-20210413080513341" style="zoom:40%;" />

#### 异步 TDM

（统计时分复用 STDM）

时间片**按需分配**，需要发送数据的信号源提出申请，才能获得时间片。

即：公共信道的时隙实行 “按需分配”，对那些需要传送信息或正在工作的终端（信号源）才分配时隙，可以使得所有时隙都能够饱满地得到使用，可以**使得服务的终端数大于时隙的个数**，提高信道的利用率

特点：可以充分利用信道，但控制比较复杂 。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210413080207165.png" alt="image-20210413080207165" style="zoom:40%;" />

- 例
    - 电话系统中为了有效地利用传输线路，可将多个话路的 PCM 信号用时分复用 TDM (Time Division Multiplexing) 的方法装成时分复用帧，然后发送到线路上。
    - 北美体制： 用于北美和日本的电话系统 T1 信号（1.544 Mbps）
    - 欧洲体制： 我国电信部门使用的 E1 传输系统（2.048 Mbps）

### 波分复用

（Wavelength Division Multiplexing）

同 FDM 类似，主要用于光纤通信中； **波分复用就是光的频分复用** 。

不同的信号源使用不同频率（波长）的光波来传输数据，各路光经过一个棱镜（或衍射光栅），合成一个光束在光纤上传输；在接收端再将各路光波分开。

密集波分复用 DWDM（Dense WDM ）：技术的发展一根光纤上复用的光载波信息路数越来越多，例如 80 或更多路数。

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210413080843390.png" alt="image-20210413080843390" style="zoom:40%;" />

### 码分复用

（Code Division Multiplexing）

常用的名词是码分多址 **CDMA** (Code Division Multiple Access)

每个用户在**同样的时间**使用**同样的频带** 进行通信。

各用户使用经过特殊挑选的不同**码型** ，因此彼此不会造成干扰。

这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现。

特别在无线局域网中，采用 CDMA 可提高话音质量、数据传输可靠性、增大通信系统容量（是 GSM 的 4、5倍），降低手机的平均发射功率。

#### 码片序列

（chip sequence）

- 每一个比特时间划分为 m 个短的间隔，称为**码片**（chip）。设 m = 8

- 每个站被指派一个唯一 的 m bit 码片序列 。

    - 如发送比特 1，则发送自己的 m bit 码片序列。
    - 如发送比特 0，则发送该码片序列的**二进制反码** 。

- 例如：

    - S 站的 8 bit 码片序列是 00011011 
    - 发送比特 1 时，就发送序列 00011011
    - 发送比特 0 时，就发送序列 11100100 

- 按惯例， 0 写成 - 1，1 写成 +1， S 站的码片序列：（ - 1 - 1- 1 + 1 + 1 - 1 + 1 + 1 ）

- 码片序列实现了扩频

    假定 S 站要发送信息的数据率为 **b bit/s** 。由于每一个比特要转换成 m 个比特的码片，因此 S 站实际上发送的数据率提高到 **mb bit/s** ，同时 S 站所占用的频带宽度也提高到原来数值的 m 倍。

    这种通信方式是**扩频** (spread) 通信 

#### CDMA 的一个重要特性

每个站分配的码片序列不仅**必须各不相同**， 并且还**必须互相正交** (orthogonal) 。

在实用的系统中是使用 **伪随机码序列**。

令向量 S 表示站 S 的码片向量，令 T 表示其他任何站的码片向量。

两个不同站的码片序列**正交**，就是向量 S 和 T 的**规格化内积 (inner product) 等于 0** 
$$
S*T\equiv\frac{1}{m}\sum_{i=1}^{m}S_iT_i=0
$$

#### 码片序列的正交关系举例

向量 S 为 ( - 1 - 1 - 1 + 1 + 1 - 1 + 1 + 1 )，向量 T 为 ( - 1 - 1 + 1 - 1 + 1 + 1 + 1 - 1 ) 。

把向量 S 和 T 的各分量值代入公式就可看出这两个码片序列是正交的。

向量 S 和 T 的码片反码的向量内积也是 0 

#### 正交关系的另一个重要特性

任何一个码片向量和该码片向量自己的规格化内积都是 1 

一个码片向量和该码片反码的向量的规格化内积值是 -1

#### CDMA 工作原理

每个站各自发送扩频信号，在接收端形成叠加的信号。

当接收站打算接收 S 站的信号时，就用 S 站的码片序列与收到的叠加信号求规格化内积：

- 若 S 站有信号发送 ，则内积结果为 1 ( 发送数据 1 ) 或 - 1 ( 发送数据 0 )

- 若 S 站没有信号发送 ，则内积结果为 0

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210413083114067.png" alt="image-20210413083114067" style="zoom:40%;" />

# 